<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>TimeKeeper Dashboard</title>
  <link rel="stylesheet" href="options.css" />
</head>
<body>
  <div class="page">
    <header class="page-header">
      <div class="header-content">
        <div class="header-text">
          <h1>TimeKeeper Dashboard</h1>
          <p class="subtitle">Track, analyze, and optimize your browsing habits.</p>
        </div>
        <div class="header-stats" id="headerStats">
          <div class="stat-card">
            <div class="stat-value" id="totalSites">--</div>
            <div class="stat-label">Sites Tracked</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="totalTime">--</div>
            <div class="stat-label">Total Time</div>
          </div>
          <div class="stat-card">
            <div class="stat-value" id="todayTime">--</div>
            <div class="stat-label">Today</div>
          </div>
        </div>
      </div>
    </header>

    <main class="page-main">
      <!-- Time Constraints -->
      <section class="card">
        <h2 class="card-title">Time Constraints</h2>
        <p class="card-description">Set daily time limits for websites to prevent overuse.</p>
        <div id="constraintsList"></div>
        <div class="add-constraint">
          <h3>Add New Constraint</h3>
          <div class="constraint-form">
            <select id="constraintDomainSelect">
              <option value="">Select tracked siteâ€¦</option>
            </select>
            <input type="text" id="constraintDomain" placeholder="Or type domain (e.g., youtube.com)" />
            <input type="number" id="constraintLimit" placeholder="30" min="1" />
            <select id="constraintUnit">
              <option value="minutes">Minutes</option>
              <option value="hours">Hours</option>
            </select>
            <button id="addConstraintBtn" class="primary-button">Add Constraint</button>
          </div>
        </div>
      </section>

      <!-- General settings -->
      <section class="card">
        <h2 class="card-title">General</h2>
        <p class="card-description">
          Control how TimeKeeper detects inactivity and tracks your browsing.
        </p>

        <div class="field-row">
          <label class="field-label" for="idleTimeout">
            Idle timeout (seconds)
          </label>
          <input
            type="number"
            id="idleTimeout"
            min="10"
            step="10"
            class="field-input"
          />
        </div>

        <div class="actions-row">
          <button id="saveBtn" class="primary-button">Save settings</button>
          <span id="status" class="status-text"></span>
        </div>
      </section>

      <!-- Export / Import -->
      <section class="card">
        <h2 class="card-title">Export &amp; Import</h2>
        <p class="card-description">
          Backup your data or move it between devices.
        </p>

        <div class="export-actions">
          <button id="exportJsonBtn" class="secondary-button">
            Export JSON
          </button>
          <button id="exportCsvBtn" class="secondary-button">
            Export CSV
          </button>
        </div>

        <div class="import-row">
          <label class="field-label">
            Import from JSON
            <input type="file" id="importFile" accept=".json" />
          </label>
        </div>
      </section>

      <!-- Tracked sites with icons -->
      <section class="card usage-section">
        <div class="usage-header">
          <div>
            <h2 class="card-title">Tracked sites</h2>
            <p class="card-description">
              All domains based on your total recorded time. Use filters to explore your data.
            </p>
          </div>
        </div>

        <div class="usage-controls">
          <div class="control-group">
            <label for="usageTimeRange" class="control-label">Range:</label>
            <select id="usageTimeRange" class="control-select">
              <option value="today">Today</option>
              <option value="7days">Last 7 days</option>
              <option value="30days">Last 30 days</option>
              <option value="all">All time</option>
            </select>
          </div>

          <div class="control-group">
            <label for="usageSortBy" class="control-label">Sort:</label>
            <select id="usageSortBy" class="control-select">
              <option value="time-desc">Time (high to low)</option>
              <option value="time-asc">Time (low to high)</option>
              <option value="name-asc">Name (A-Z)</option>
              <option value="visits-desc">Visits (high to low)</option>
            </select>
          </div>

          <div class="control-group search-group">
            <input
              type="text"
              id="usageSearchBox"
              class="search-input"
              placeholder="Search sites..."
            />
          </div>
        </div>

        <div id="usageGrid" class="usage-grid">
          <!-- Filled dynamically from options.js -->
        </div>
      </section>
    </main>
  </div>
  <script src="options.js"></script>
</body>
</html>